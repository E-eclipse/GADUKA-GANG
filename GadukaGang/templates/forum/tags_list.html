{% extends 'base.html' %}
{% load static %}

{% block title %}Теги - Plekhanov CourseHub{% endblock %}

{% block content %}
<div class="minimal-container">
    <div class="minimal-header">
        <h1>Теги</h1>
        {% if user.is_staff or user.is_superuser %}
        <a href="{% url 'tag_create' %}" class="minimal-btn">Создать тег</a>
        {% endif %}
    </div>

    <div class="minimal-tags-grid">
        {% for tag in tags %}
        <div class="minimal-tag-card">
            <div class="tag-info">
                <a href="{% url 'topics_by_tag' tag.id %}" class="minimal-tag-link">
                    <span class="tag-hash">#</span>
                    <span class="tag-name">{{ tag.name }}</span>
                </a>
                <span class="tag-count">{{ tag.topics_count }} тем</span>
            </div>
            {% if user.is_staff or user.is_superuser %}
            <div class="minimal-tag-actions">
                <a href="{% url 'tag_edit' tag.id %}" class="action-icon" title="Редактировать">✎</a>
                <form method="post" action="{% url 'tag_delete' tag.id %}" style="display: inline;"
                    onsubmit="return confirm('Удалить?');">
                    {% csrf_token %}
                    <button type="submit" class="action-icon delete" title="Удалить">×</button>
                </form>
            </div>
            {% endif %}
        </div>
        {% empty %}
        <div class="minimal-empty">
            <p>Нет тегов.</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}




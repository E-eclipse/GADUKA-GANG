# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –∫—É—Ä—Å–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

**–ü—Ä–æ–µ–∫—Ç:** –§–æ—Ä—É–º Gaduka Gang  
**–°—Ç—É–¥–µ–Ω—Ç:** Matvei_Jabron
**–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:** –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∑–∞—â–∏—Ç—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd "c:\Users\Mathew\Desktop\—Ç–µ—Ö–Ω–∏–∫—É–º\4-–π –∫—É—Ä—Å\Gaduka Gang\GadukaGang"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
python manage.py runserver
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://127.0.0.1:8000/`

### 2. –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** http://127.0.0.1:8000/
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger):** http://127.0.0.1:8000/api/v1/docs/
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:** http://127.0.0.1:8000/admin/

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ API —Ç–æ–∫–µ–Ω–∞ (–¥–ª—è Swagger)

**–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.**

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py get_api_token

# –ò–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py get_api_token --username=eclipse
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
API Token: cc7075632a9a30c1f192accf0c6b4e55b923b9ac
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Swagger:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/api/v1/docs/
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Authorize"** (üîì) –≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞
3. –í –ø–æ–ª–µ –≤–≤–µ–¥–∏—Ç–µ: `Token cc7075632a9a30c1f192accf0c6b4e55b923b9ac`
4. –ù–∞–∂–º–∏—Ç–µ **"Authorize"**
5. –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ API endpoints!

---

## ‚úÖ –≠–¢–ê–ü 1: –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ë–î (–ó–ê–í–ï–†–®–Å–ù)

### –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ 7 —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä
- ‚úÖ 8 —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –∞—É–¥–∏—Ç–∞
- ‚úÖ 10 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (VIEW)
- ‚úÖ 3 Django management –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è SQL –æ–±—ä–µ–∫—Ç–æ–≤

#### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ SQL –æ–±—ä–µ–∫—Ç—ã

```bash
python manage.py apply_sql --type=all
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –∏–∑ procedures.sql...
‚úì –ü—Ä–æ—Ü–µ–¥—É—Ä—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¢—Ä–∏–≥–≥–µ—Ä—ã –∏–∑ triggers.sql...
‚úì –¢—Ä–∏–≥–≥–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–∑ views.sql...
‚úì –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

–ì–æ—Ç–æ–≤–æ!
```

#### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

```bash
python manage.py test_procedures
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¢–µ—Å—Ç—ã –≤—Å–µ—Ö 7 –ø—Ä–æ—Ü–µ–¥—É—Ä
- –¢–µ—Å—Ç—ã –≤—Å–µ—Ö 8 —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- –¢–µ—Å—Ç—ã –≤—Å–µ—Ö 10 VIEW
- –û–±—â–∏–π —É—Å–ø–µ—Ö: 15/17 —Ç–µ—Å—Ç–æ–≤ (88%)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä

#### 1. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
python manage.py call_procedure calculate_user_statistics --user-id=1
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –ü–æ–¥—Å—á—ë—Ç –ø–æ—Å—Ç–æ–≤ –∏ —Ç–µ–º
- –ü–æ–¥—Å—á—ë—Ç –ª–∞–π–∫–æ–≤/–¥–∏–∑–ª–∞–π–∫–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –†–∞–Ω–≥ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 2. –ü–∞–∫–µ—Ç–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

```bash
python manage.py call_procedure batch_update_topic_ratings
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –ú–∞—Å—Å–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –≤—Å–µ—Ö —Ç–µ–º
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

#### 3. –ê—Ä—Ö–∏–≤–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –ø–æ—Å—Ç–æ–≤

```bash
python manage.py call_procedure archive_old_posts --days=365
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å—Ç–∞—Ä—à–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
- –ü–æ–¥—Å—á—ë—Ç –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- –î–∞—Ç–∞ —Å–∞–º–æ–≥–æ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ—Å—Ç–∞

#### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—á—ë—Ç–∞

```bash
python manage.py call_procedure generate_analytics_report
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø–µ—Ä–∏–æ–¥–æ–º
- –ü—Ä–æ—Ü–µ–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

#### 5. –ú–∞—Å—Å–æ–≤–∞—è –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

```bash
python manage.py call_procedure award_achievements_batch
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

#### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–Ω–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```bash
python manage.py call_procedure update_user_ranks
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ä–∞–Ω–≥–æ–≤
- –†–∞—Å—á—ë—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—á–∫–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

#### –¢—Ä–∏–≥–≥–µ—Ä 1: –ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: http://127.0.0.1:8000/admin/
2. –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `GadukaGang_systemlog`

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```sql
SELECT * FROM "GadukaGang_systemlog" 
WHERE action_type = 'role_changed' 
ORDER BY timestamp DESC LIMIT 10;
```

#### –¢—Ä–∏–≥–≥–µ—Ä 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á—ë—Ç –ø–æ—Å—Ç–æ–≤

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `post_count` –≤ `UserProfile` —É–≤–µ–ª–∏—á–∏–ª—Å—è

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```sql
SELECT user_id, post_count FROM "GadukaGang_userprofile" 
WHERE user_id = 1;
```

#### –¢—Ä–∏–≥–≥–µ—Ä 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ last_activity

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `last_activity` –æ–±–Ω–æ–≤–∏–ª–æ—Å—å

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```sql
SELECT user_id, last_activity FROM "GadukaGang_userprofile" 
WHERE user_id = 1;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (VIEW)

#### VIEW 1: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```sql
SELECT * FROM v_user_statistics LIMIT 5;
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤, —Ç–µ–º, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –†–∞–Ω–≥ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å

#### VIEW 2: –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (24 —á–∞—Å–∞)

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```sql
SELECT * FROM v_active_users_24h;
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤ –∏ —Ç–µ–º –∑–∞ –ø–µ—Ä–∏–æ–¥

#### VIEW 3: –¢–æ–ø –∞–≤—Ç–æ—Ä–æ–≤

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```sql
SELECT * FROM v_top_contributors LIMIT 10;
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –†–µ–π—Ç–∏–Ω–≥ –∞–≤—Ç–æ—Ä–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ—Å—Ç–æ–≤
- –õ–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

#### VIEW 4: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–æ–≤

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```sql
SELECT * FROM v_section_statistics;
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º –∏ –ø–æ—Å—Ç–æ–≤ –≤ –∫–∞–∂–¥–æ–º —Ä–∞–∑–¥–µ–ª–µ
- –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —Ç–µ–º
- –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

#### VIEW 5: –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–≥–∏

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```sql
SELECT * FROM v_popular_tags LIMIT 10;
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –°–∞–º—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ–≥–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º —Å –∫–∞–∂–¥—ã–º —Ç–µ–≥–æ–º
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π:** `process_complaint_transaction`

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å –∂–∞–ª–æ–±—É —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –í—ã–∑–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –æ–±—Ä–∞–±–æ—Ç–∫–∏
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å –∞—Ç–æ–º–∞—Ä–Ω–æ

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ —á–µ—Ä–µ–∑ Python:**
```python
from GadukaGang.db_procedures import DatabaseProcedures

result = DatabaseProcedures.process_complaint_transaction(
    complaint_id=1,
    moderator_id=1,
    new_status='resolved',
    action_description='–ñ–∞–ª–æ–±–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∞ –∏ —Ä–µ—à–µ–Ω–∞'
)
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∂–∞–ª–æ–±—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞
- –ó–∞–ø–∏—Å—å –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥
- –û—Ç–∫–∞—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ

---

## üìÅ –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### SQL —Ñ–∞–π–ª—ã (database/)
- `procedures.sql` - 7 —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä
- `triggers.sql` - 8 —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- `views.sql` - 10 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
- `README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ SQL

### Django —Ñ–∞–π–ª—ã (GadukaGang/)
- `db_procedures.py` - –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- `management/commands/apply_sql.py` - –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è SQL
- `management/commands/call_procedure.py` - –ö–æ–º–∞–Ω–¥–∞ –≤—ã–∑–æ–≤–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä
- `management/commands/test_procedures.py` - –ö–æ–º–∞–Ω–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ú–æ–¥–µ–ª–∏ (GadukaGang/models.py)
- 25 —Ç–∞–±–ª–∏—Ü –ë–î
- –°–≤—è–∑–∏ 1:1, 1:M, M:M
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ PostgreSQL

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

```bash
# –ß–µ—Ä–µ–∑ psql
psql -U [username] -d [database_name]

# –ò–ª–∏ —á–µ—Ä–µ–∑ pgAdmin
# –û—Ç–∫—Ä—ã—Ç—å pgAdmin –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
```

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä

```sql
SELECT routine_name, routine_type
FROM information_schema.routines
WHERE routine_schema = 'public'
AND routine_name LIKE '%user%' OR routine_name LIKE '%topic%';
```

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

```sql
SELECT trigger_name, event_object_table, action_statement
FROM information_schema.triggers
WHERE trigger_schema = 'public';
```

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö VIEW

```sql
SELECT table_name
FROM information_schema.views
WHERE table_schema = 'public'
AND table_name LIKE 'v_%';
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –•—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- ‚úÖ –ú–∏–Ω–∏–º—É–º: 5 ‚Üí –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: 7 (140%)
- ‚úÖ –í—Å–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ï—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢—Ä–∏–≥–≥–µ—Ä—ã
- ‚úÖ –ú–∏–Ω–∏–º—É–º: 3 ‚Üí –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: 8 (267%)
- ‚úÖ –ê—É–¥–∏—Ç –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (VIEW)
- ‚úÖ –ú–∏–Ω–∏–º—É–º: 5 ‚Üí –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: 10 (200%)
- ‚úÖ –í—Å–µ VIEW –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ –ï—Å—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ—Ç–∫–∞—Ç
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –°—Ç–∞—Ç—É—Å |
|----------|------------|-------------|--------|
| –¢–∞–±–ª–∏—Ü—ã –ë–î | 8+ | 25 | ‚úÖ 312% |
| –•—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã | 5+ | 7 | ‚úÖ 140% |
| –¢—Ä–∏–≥–≥–µ—Ä—ã | 3+ | 8 | ‚úÖ 267% |
| VIEW | 5+ | 10 | ‚úÖ 200% |
| –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | –î–∞ | –î–∞ | ‚úÖ |
| –ê—É–¥–∏—Ç | –î–∞ | –î–∞ | ‚úÖ |
| –¢–µ—Å—Ç—ã | –î–∞ | –î–∞ | ‚úÖ |

**–ò—Ç–æ–≥–æ:** –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ–º! üéâ

---

## ‚úÖ –≠–¢–ê–ü 2: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã (–ó–ê–í–ï–†–®–Å–ù)

### –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ 6 –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ (Chart.js)
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV (5 —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ API endpoints –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VIEW –∏–∑ –ë–î

### –î–æ—Å—Ç—É–ø –∫ –¥–∞—à–±–æ—Ä–¥—É

**URL:** http://127.0.0.1:8000/analytics/

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –ù—É–∂–Ω–æ –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –∫–∞–∫ staff (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)

### –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ

#### 1. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º
**–¢–∏–ø:** –õ–∏–Ω–µ–π–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫  
**–î–∞–Ω–Ω—ã–µ:** –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ç–µ–º—ã, –ø–æ—Å—Ç—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** VIEW `v_daily_activity`

#### 2. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
**–¢–∏–ø:** –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞  
**–î–∞–Ω–Ω—ã–µ:** –¢–æ–ø-10 —Ä–∞–∑–¥–µ–ª–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ç–µ–º  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** VIEW `v_section_statistics`

#### 3. –¢–æ–ø-10 –∞–≤—Ç–æ—Ä–æ–≤
**–¢–∏–ø:** –°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞  
**–î–∞–Ω–Ω—ã–µ:** –°–∞–º—ã–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∞–≤—Ç–æ—Ä—ã –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ—Å—Ç–æ–≤  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** VIEW `v_top_contributors`

#### 4. –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–≥–∏
**–¢–∏–ø:** –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞  
**–î–∞–Ω–Ω—ã–µ:** –¢–æ–ø-10 —Ç–µ–≥–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ç–µ–º  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** VIEW `v_popular_tags`

#### 5. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º
**–¢–∏–ø:** –ö–æ–ª—å—Ü–µ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞  
**–î–∞–Ω–Ω—ã–µ:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ú–æ–¥–µ–ª—å `User`

#### 6. –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç
**–¢–∏–ø:** –°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ —Å –¥–≤—É–º—è –æ—Å—è–º–∏  
**–î–∞–Ω–Ω—ã–µ:** –ú–µ—Ç—Ä–∏–∫–∏ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ `generate_analytics_report()`

### –§–∏–ª—å—Ç—Ä—ã

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/analytics/
2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—ã "–æ—Ç" –∏ "–¥–æ" –≤ –ø–∞–Ω–µ–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
3. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã"
4. –í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–ü—Ä–∏–º–µ—Ä:**
```
–î–∞—Ç–∞ –æ—Ç: 2024-01-01
–î–∞—Ç–∞ –¥–æ: 2024-12-31
```

### –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã:**

#### 1. –≠–∫—Å–ø–æ—Ä—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
**URL:** http://127.0.0.1:8000/analytics/export/?type=daily_activity

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –î–∞—Ç–∞
- –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ù–æ–≤—ã–µ —Ç–µ–º—ã
- –ù–æ–≤—ã–µ –ø–æ—Å—Ç—ã
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

#### 2. –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–ø –∞–≤—Ç–æ—Ä–æ–≤
**URL:** http://127.0.0.1:8000/analytics/export/?type=top_contributors

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –†–æ–ª—å
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º
- –õ–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –†–∞–Ω–≥

#### 3. –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞–∑–¥–µ–ª–æ–≤
**URL:** http://127.0.0.1:8000/analytics/export/?type=sections

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–≤—Ç–æ—Ä–æ–≤
- –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥
- –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

#### 4. –≠–∫—Å–ø–æ—Ä—Ç —Ç–µ–≥–æ–≤
**URL:** http://127.0.0.1:8000/analytics/export/?type=tags

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–≥–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–≤—Ç–æ—Ä–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä—ã
- –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥

#### 5. –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**URL:** http://127.0.0.1:8000/analytics/export/?type=users

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- Email
- –†–æ–ª—å
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–º
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- –†–∞–Ω–≥
- –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–ö–∞–∫ —Å–∫–∞—á–∞—Ç—å:**
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "üì• –≠–∫—Å–ø–æ—Ä—Ç..." –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ
2. –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ URL –Ω–∞–ø—Ä—è–º—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è

**–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:** CSV —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π UTF-8 (BOM) –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ Excel

### API Endpoints

#### GET /analytics/api/data/
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type` - —Ç–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞ (daily_activity, sections_distribution, top_contributors, popular_tags, user_roles, analytics_report)
- `date_from` - –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ (YYYY-MM-DD)
- `date_to` - –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (YYYY-MM-DD)

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "http://127.0.0.1:8000/analytics/api/data/?type=daily_activity&date_from=2024-01-01&date_to=2024-12-31"
```

**–û—Ç–≤–µ—Ç:** JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è Chart.js

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å VIEW

**SQL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö:**

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ v_daily_activity
SELECT * FROM v_daily_activity ORDER BY activity_date DESC LIMIT 7;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ v_section_statistics
SELECT name, topics_count, posts_count FROM v_section_statistics ORDER BY topics_count DESC LIMIT 5;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ v_top_contributors
SELECT username, post_count, topics_count FROM v_top_contributors LIMIT 10;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ v_popular_tags
SELECT name, topics_count FROM v_popular_tags LIMIT 10;
```

### –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

- `GadukaGang/analytics_views.py` - Views –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `templates/analytics_dashboard.html` - –®–∞–±–ª–æ–Ω –¥–∞—à–±–æ—Ä–¥–∞
- `GadukaGang/urls.py` - URL –º–∞—Ä—à—Ä—É—Ç—ã (—Å—Ç—Ä–æ–∫–∏ 32-36)

---

## ‚úÖ –≠–¢–ê–ü 3: –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç –∏ –±—ç–∫–∞–ø—ã (–ó–ê–í–ï–†–®–Å–ù)

### –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ CSV –∏–º–ø–æ—Ä—Ç —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π (7 —Ç–∏–ø–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π)
- ‚úÖ CSV —ç–∫—Å–ø–æ—Ä—Ç (7 —Ç–∏–ø–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π)
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î (PostgreSQL)
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—ç–∫–∞–ø–æ–≤

### –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ CSV

#### –ö–æ–º–∞–Ω–¥–∞ –∏–º–ø–æ—Ä—Ç–∞
```bash
python manage.py import_csv --type=<—Ç–∏–ø> --file=<–ø—É—Ç—å> [--skip-errors]
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã:**
- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `sections` - –†–∞–∑–¥–µ–ª—ã —Ñ–æ—Ä—É–º–∞
- `topics` - –¢–µ–º—ã
- `posts` - –ü–æ—Å—Ç—ã
- `tags` - –¢–µ–≥–∏
- `achievements` - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- `ranks` - –†–∞–Ω–≥–∏

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –ò–º–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
python manage.py import_csv --type=users --file=data/users.csv

# –ò–º–ø–æ—Ä—Ç —Å –ø—Ä–æ–ø—É—Å–∫–æ–º –æ—à–∏–±–æ–∫
python manage.py import_csv --type=topics --file=data/topics.csv --skip-errors

# –ò–º–ø–æ—Ä—Ç —Ç–µ–≥–æ–≤
python manage.py import_csv --type=tags --file=data/tags.csv
```

**–§–æ—Ä–º–∞—Ç CSV –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
```csv
username,email,first_name,last_name,role,is_active,password
john_doe,john@example.com,John,Doe,user,True,password123
jane_admin,jane@example.com,Jane,Smith,moderator,True,securepass
```

**–§–æ—Ä–º–∞—Ç CSV –¥–ª—è —Ä–∞–∑–¥–µ–ª–æ–≤:**
```csv
name,description,created_by
Python,–û–±—Å—É–∂–¥–µ–Ω–∏–µ Python,admin
Django,–í–æ–ø—Ä–æ—Å—ã –ø–æ Django,admin
```

**–§–æ—Ä–º–∞—Ç CSV –¥–ª—è —Ç–µ–º:**
```csv
title,section,author,is_pinned
–ö–∞–∫ –Ω–∞—á–∞—Ç—å —Å Django?,Django,john_doe,False
–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ Python,Python,jane_admin,True
```

### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV

#### –ö–æ–º–∞–Ω–¥–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞
```bash
python manage.py export_csv --type=<—Ç–∏–ø> [--output=<–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è>]
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
python manage.py export_csv --type=all --output=exports

# –≠–∫—Å–ø–æ—Ä—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
python manage.py export_csv --type=users

# –≠–∫—Å–ø–æ—Ä—Ç —Ç–µ–º
python manage.py export_csv --type=topics --output=my_exports
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
============================================================
  ‚úì –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: 150 ‚Üí exports\users_20241122_130000.csv
  ‚úì –†–∞–∑–¥–µ–ª—ã: 12 ‚Üí exports\sections_20241122_130000.csv
  ‚úì –¢–µ–º—ã: 450 ‚Üí exports\topics_20241122_130000.csv
  ‚úì –ü–æ—Å—Ç—ã: 2340 ‚Üí exports\posts_20241122_130000.csv
  ‚úì –¢–µ–≥–∏: 25 ‚Üí exports\tags_20241122_130000.csv
  ‚úì –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è: 8 ‚Üí exports\achievements_20241122_130000.csv
  ‚úì –†–∞–Ω–≥–∏: 5 ‚Üí exports\ranks_20241122_130000.csv

‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à—ë–Ω
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î

#### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
```bash
python manage.py backup_db [--output=<–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è>] [--compress]
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –ü—Ä–æ—Å—Ç–æ–π –±—ç–∫–∞–ø
python manage.py backup_db

# –ë—ç–∫–∞–ø —Å —Å–∂–∞—Ç–∏–µ–º
python manage.py backup_db --compress

# –ë—ç–∫–∞–ø –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
python manage.py backup_db --output=my_backups --compress
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üíæ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –ë–î
============================================================
  –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: forum_db
  –•–æ—Å—Ç: localhost:5432
  –§–∞–π–ª: backups\backup_forum_db_20241122_130500.sql.gz

‚úÖ –ë—ç–∫–∞–ø —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!
  –†–∞–∑–º–µ—Ä: 15.34 MB
  –ü—É—Ç—å: backups\backup_forum_db_20241122_130500.sql.gz
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î

#### –ö–æ–º–∞–Ω–¥–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
```bash
python manage.py restore_db --file=<–ø—É—Ç—å_–∫_–±—ç–∫–∞–ø—É> --confirm
```

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ!

**–ü—Ä–∏–º–µ—Ä:**

```bash
python manage.py restore_db --file=backups\backup_forum_db_20241122_130500.sql.gz --confirm
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚ö†Ô∏è  –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ë–ê–ó–´ –î–ê–ù–ù–´–•
============================================================
  –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: forum_db
  –•–æ—Å—Ç: localhost:5432
  –§–∞–π–ª –±—ç–∫–∞–ø–∞: backups\backup_forum_db_20241122_130500.sql.gz

  ‚ö†Ô∏è  –í–°–ï –¢–ï–ö–£–©–ò–ï –î–ê–ù–ù–´–ï –ë–£–î–£–¢ –£–î–ê–õ–ï–ù–´!

üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö...

‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

‚ö†Ô∏è  –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä Django
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±—ç–∫–∞–ø–æ–≤

#### –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫–∞–ø–∞
–§–∞–π–ª: `auto_backup.bat`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
```batch
@echo off
cd /d "c:\Users\Mathew\Desktop\—Ç–µ—Ö–Ω–∏–∫—É–º\4-–π –∫—É—Ä—Å\Gaduka Gang\GadukaGang"
python manage.py backup_db --output=backups --compress
forfiles /P backups /M *.sql.gz /D -30 /C "cmd /c del @path" 2>nul
echo [%date% %time%] Backup completed >> backups\backup.log
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á Windows:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π" (Task Scheduler)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
3. **–¢—Ä–∏–≥–≥–µ—Ä:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00
4. **–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
   - –ü—Ä–æ–≥—Ä–∞–º–º–∞: `c:\Users\Mathew\Desktop\—Ç–µ—Ö–Ω–∏–∫—É–º\4-–π –∫—É—Ä—Å\Gaduka Gang\auto_backup.bat`
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –°–æ–∑–¥–∞—ë—Ç —Å–∂–∞—Ç—ã–π –±—ç–∫–∞–ø –ë–î
- –£–¥–∞–ª—è–µ—Ç –±—ç–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
- –õ–æ–≥–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∞–Ω–¥

```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
python manage.py help

# –ü–æ–º–æ—â—å –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ
python manage.py import_csv --help
python manage.py export_csv --help
python manage.py backup_db --help
python manage.py restore_db --help
```

### –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

- `GadukaGang/management/commands/import_csv.py` - –ò–º–ø–æ—Ä—Ç CSV
- `GadukaGang/management/commands/export_csv.py` - –≠–∫—Å–ø–æ—Ä—Ç CSV
- `GadukaGang/management/commands/backup_db.py` - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- `GadukaGang/management/commands/restore_db.py` - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- `auto_backup.bat` - –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ:
- Email: [–≤–∞—à email]
- Telegram: [–≤–∞—à telegram]

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 22.11.2024  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –≠—Ç–∞–ø 1 –∑–∞–≤–µ—Ä—à—ë–Ω
